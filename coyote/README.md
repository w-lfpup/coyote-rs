# Coyote-rs

Create `HTML` with component functions in Rust!

## Install

```sh
cargo install --git https://github.com/wolf-pup/coyote-rs coyote
```

## Components

`Coyote` creates xml-like documents from function components.

Function components are functions that return components!

```rust
use coyote::{Component, tmpl};

fn hai() -> Component {
    tmpl("<p>omgawsh hai :3</p>", [])
}
```

Componets are the atomic pieces required to build xml-like templates:

| Component | Type | Description |
| --------- | ---- | ----------- |
| Attribute | `attr(&str) -> Component`| element attribute |
| Attribute with value | `attr_val(&str, &str) -> Component` | element attribute and value |
| Safer escaped text | `text(&str) -> Component` | text with glyphs like `<>` escaped as HTML
| Unsafe unescaped text | `unescaped_text(&str) -> Component` | dangerously unescaped text |
| Template | `tmpl(&str, [Component, ...]) -> Component` | a string template describing a document fragment |
| List | `list([Component, ...]) -> Component` | a list of components |
| Vector | `vlist(Vec::from([Component, ...])) -> Component` | a vector list of components |
| None | `Component::None` | a component signifying the abscence of a component |

## Nested components

The `list` component enables function components to reflect the `node -> [node, text, node, ...]` structure of a document.

In the example below, a form is defined by lists of attributes, templates, and text.

```rust
use coyote::{Component, attr_val, list, text, tmpl};

fn woof() -> Component {
    tmpl("<input type=submit value=\"yus -_-\">", [])
}

fn woof_form() -> Component {
    let attributes = list([
        attr_val("action", "/uwu"),
        attr_val("method", "post"),
    ]);

    let descendants = list([
        text("you're a boy kisser aren't you >:3"),
        woof(),
    ]);

    tmpl(
        "<form {}>{}</form>",
        [attributes, descendants],
    )
}
```

## Template Syntax

`Coyote-rs` uses an xml-like syntax. It supports self-closing tags, void elements, and fragments.

```rs
fn cool_story_bro() -> Component {
    tmpl("
        <article>
            <header>cool story!</header>
            <>
                <p>bro what else happened?</p>
                <p>no waaaay?</p>
            </>
            <footer>end of the story!</footer>
        </article>
    ", [])
}

```

`Components` like `tmpl` are an _intermediate rendering format_ between composition and render. It's a limbo state where all tags and attributes are valid so long as templates adhere to the general grammar of html and xml.

## Renders

`Coyote` is not coupled to any particular markup language. Any document structure expressed through an xml-like syntax can be generated by coyote `components`.

How component functions are rendered depends on what consumes the _intermediate rendering format_.

Currently Coyote ships with support for [html](../coyote_html/README.md).
